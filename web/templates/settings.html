{% extends "base.html" %}
{% block title %}Ρυθμίσεις · Meeting Collector{% endblock %}
{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', path='app.css') }}">
{% endblock %}
{% block content %}
<body>
<header class="topbar">
    <div class="brand" onclick="location.href='/'">Meeting Collector</div>
    <nav class="nav-right">
        {% if user %}
        <!--<a href="/settings" class="link">Ρυθμίσεις</a>-->
        <a href="{{ request.url_for('settings_page') }}" class="link">Ρυθμίσεις</a>
        <span class="sep">|</span>
        <a href="{{ request.url_for('logout') }}" class="btn btn-ghost">Αποσύνδεση</a>
        {% else %}
        <a href="/login" class="btn">Σύνδεση</a>
        {% endif %}
    </nav>
</header>

<main class="container">

    <h1>Ρυθμίσεις χρήστη</h1>

    <section class="card">
        <h2>Λογαριασμοί Email για Parsing</h2>
        <form id="acc-form" class="grid-form">
            <div>
                <label>Εμφανιζόμενο όνομα<br><input name="display_name"/></label>
            </div>
            <div>
                <label>Email<br><input name="email" type="email" required/></label>
            </div>
            <div>
                <label>IMAP Host<br><input name="imap_host" required/></label>
            </div>
            <div>
                <label>IMAP Port<br><input name="imap_port" type="number" value="993"/></label>
            </div>
            <div>
                <label>IMAP SSL<br>
                    <select name="imap_ssl">
                        <option value="true" selected>Ναι</option>
                        <option value="false">Όχι</option>
                    </select>
                </label>
            </div>
            <div>
                <label>IMAP User (προαιρετικό)<br><input name="imap_user"/></label>
            </div>
            <div>
                <label>IMAP Password<br><input name="imap_password" type="password" required/></label>
            </div>


            <div>
                <label>SMTP Host (προαιρετικό)<br><input name="smtp_host"/></label>
            </div>
            <div>
                <label>SMTP Port<br><input name="smtp_port" type="number" value="465"/></label>
            </div>
            <div>
                <label>SMTP SSL<br>
                    <select name="smtp_ssl">
                        <option value="true" selected>Ναι</option>
                        <option value="false">Όχι</option>
                    </select>
                </label>
            </div>
            <div>
                <label>SMTP User (προαιρετικό)<br><input name="smtp_user"/></label>
            </div>
            <div>
                <label>SMTP Password (προαιρετικό)<br><input name="smtp_password" type="password"/></label>
            </div>


            <div style="align-self:end">
                <button class="btn btn-primary" type="submit">Προσθήκη</button>
            </div>
        </form>
        <div id="acc-msg" class="muted" style="margin-top: .5rem"></div>


        <table class="table" id="acc-table">
            <thead>
            <tr>
                <th>ID</th>
                <th>Όνομα</th>
                <th>Email</th>
                <th>IMAP</th>
                <th>SMTP</th>
                <th></th>
            </tr>
            </thead>
            <tbody></tbody>
        </table>
    </section>
</main>
</body>
<script defer src="{{ url_for('static', path='settings.js') }}"></script>
{% endblock %}